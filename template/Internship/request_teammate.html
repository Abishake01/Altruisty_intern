{% extends 'internship/base.html' %}
{% block content %}
<div id="idea-form-container">
    <div class="prob-statements">
        <span id="closeDivButton" onclick='document.getElementById("idea-form-container").style.display = "none"' class="close-btn">&times;</span>
        <div class="tf-section-2 ranking">
            <div class="themesflat-container">
                <div class="row">
                    <div class="col-12 mb-30">
                        <div class="widget-tabs relative">
                            <div class="widget-content-tab pt-10">
                                <div class="widget-content-inner active">
                                    <div class="widget-table-ranking">
                                        <div class="table-ranking-content">
                                            <!-- Table Header -->
                                            <div class="row mb-3">
                                                <div class="col-md-1">S.No</div>
                                                <div class="col-md-3">Idea ID</div>
                                                <div class="col-md-3">User ID</div>
                                                <div class="col-md-3">Name</div>
                                                <div class="col-md-2 text-center">Actions</div>
                                            </div>
                                            <hr />

                                            <!-- Dynamic Rows -->
                                            {% for teammate in teammates %}
                                            {% if teammate.user_id != user_id %}
                                            <div class="row mb-3">
                                                <div class="col-md-1">
                                                    {{ forloop.counter }}
                                                </div>
                                                <div class="col-md-3">
                                                    {{ teammate.idea_id }}
                                                </div>
                                                <div class="col-md-3">
                                                    {{ teammate.user_id }}
                                                </div>
                                                <div class="col-md-3">
                                                    {{ teammate.name_of_innovator }}
                                                </div>
                                                <div class="col-md-2 text-center">
                                                    <!-- Eye Icon -->
                                                    <a class="btn btn-info btn-sm">
                                                        <i class="fas fa-eye"></i>
                                                    </a>
                                                    <!-- Connect Button -->
                                                    <a href="{% url 'internship:connect_user' user_id=teammate.user_id %}" class="btn btn-success btn-sm">
                                                        Connect
                                                    </a>

                                                </div>
                                            </div>
                                            <hr />
                                            {% endif %}
                                            {% empty %}
                                            <p class="text-center">No data available.</p>
                                            {% endfor %}

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
